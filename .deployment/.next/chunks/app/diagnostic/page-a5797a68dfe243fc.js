(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{405:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>n});var l=s(5155),t=s(2115),r=s(1890);function n(){var e,a;let[s,n]=(0,t.useState)({initialized:!1,error:null,isClient:!1,hasLocalStorage:!1,canWrite:!1,canRead:!1,environment:"production",isAzure:"true"===r.env.RUNNING_IN_AZURE,localStorage:null,memoryStorage:null,pageLoadTime:new Date().toISOString()}),[o,i]=(0,t.useState)({});return(0,t.useEffect)(()=>{let e="localStorage"in window;n(a=>({...a,initialized:!0,isClient:!0,hasLocalStorage:e}));let a=async()=>{try{let e=!1,a=!1;try{let s="__localStorage_diagnostic_test__";localStorage.setItem(s,"test-value");let l=localStorage.getItem(s);localStorage.removeItem(s),e=!0,a="test-value"===l}catch(a){let e=a instanceof Error?a.message:String(a);n(a=>({...a,error:"localStorage operation failed: ".concat(e)}))}try{let e="test";o[e]="memory-test";let a=o[e];delete o[e],n(e=>({...e,memoryStorage:{canWrite:!0,canRead:"memory-test"===a,status:"memory-test"===a?"working":"failed"}}))}catch(a){let e=a instanceof Error?a.message:String(a);n(a=>({...a,memoryStorage:{error:"Memory storage test failed: ".concat(e)}}))}let s={};if(a)try{for(let e=0;e<localStorage.length;e++){let a=localStorage.key(e);a&&(s[a]=localStorage.getItem(a))}}catch(a){let e=a instanceof Error?a.message:String(a);n(a=>({...a,error:"Error reading localStorage content: ".concat(e)}))}n(l=>({...l,canWrite:e,canRead:a,localStorage:s}))}catch(a){let e=a instanceof Error?a.message:String(a);n(a=>({...a,error:e}))}};setTimeout(()=>{a()},500)},[]),(0,l.jsxs)("div",{className:"p-8 max-w-4xl mx-auto",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"localStorage Diagnostic Tool"}),s.initialized?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,l.jsx)("h2",{className:"font-semibold mb-2",children:"Basic Environment"}),(0,l.jsxs)("ul",{className:"space-y-1",children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Page load time:"}),(0,l.jsx)("span",{className:"ml-2",children:s.pageLoadTime})]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Client-side rendering:"}),(0,l.jsx)("span",{className:s.isClient?"text-green-600 ml-2":"text-red-600 ml-2",children:s.isClient?"Yes":"No"})]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Environment:"}),(0,l.jsx)("span",{className:"ml-2",children:s.environment})]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Running in Azure:"}),(0,l.jsx)("span",{className:"ml-2",children:s.isAzure?"Yes":"No"})]})]})]}),(0,l.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,l.jsx)("h2",{className:"font-semibold mb-2",children:"localStorage Status"}),(0,l.jsxs)("ul",{className:"space-y-1",children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"font-medium",children:"localStorage available:"}),(0,l.jsx)("span",{className:s.hasLocalStorage?"text-green-600 ml-2":"text-red-600 ml-2",children:s.hasLocalStorage?"Yes":"No"})]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Can write to localStorage:"}),(0,l.jsx)("span",{className:s.canWrite?"text-green-600 ml-2":"text-red-600 ml-2",children:s.canWrite?"Yes":"No"})]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"font-medium",children:"Can read from localStorage:"}),(0,l.jsx)("span",{className:s.canRead?"text-green-600 ml-2":"text-red-600 ml-2",children:s.canRead?"Yes":"No"})]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("span",{className:"font-medium",children:"In-memory fallback viable:"}),(0,l.jsx)("span",{className:(null===(e=s.memoryStorage)||void 0===e?void 0:e.status)==="working"?"text-green-600 ml-2":"text-amber-600 ml-2",children:(null===(a=s.memoryStorage)||void 0===a?void 0:a.status)==="working"?"Yes":"Unknown"})]})]})]})]}),s.error&&(0,l.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded",children:[(0,l.jsx)("h2",{className:"font-semibold mb-2",children:"Error Detected"}),(0,l.jsx)("p",{children:s.error})]}),s.localStorage&&Object.keys(s.localStorage).length>0&&(0,l.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,l.jsx)("h2",{className:"font-semibold mb-2",children:"localStorage Content"}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-gray-100",children:[(0,l.jsx)("th",{className:"px-4 py-2 text-left",children:"Key"}),(0,l.jsx)("th",{className:"px-4 py-2 text-left",children:"Value Preview"})]})}),(0,l.jsx)("tbody",{children:Object.entries(s.localStorage).map(e=>{let[a,s]=e;return(0,l.jsxs)("tr",{className:"border-t",children:[(0,l.jsx)("td",{className:"px-4 py-2 font-mono text-sm",children:a}),(0,l.jsx)("td",{className:"px-4 py-2 font-mono text-sm",children:"string"==typeof s?s.length>50?"".concat(s.substring(0,50),"..."):s:JSON.stringify(s)})]},a)})})]})})]}),(0,l.jsxs)("div",{className:"mt-6 flex gap-4",children:[(0,l.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"Run Diagnostics Again"}),(0,l.jsx)("button",{onClick:()=>{if("undefined"!=typeof localStorage)try{localStorage.clear(),window.location.reload()}catch(a){let e=a instanceof Error?a.message:String(a);alert("Error clearing localStorage: ".concat(e))}},className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors",children:"Clear localStorage & Reload"}),(0,l.jsx)("button",{onClick:()=>window.location.href="/",className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors",children:"Go to Home Page"})]})]}):(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})]})}},1826:(e,a,s)=>{Promise.resolve().then(s.bind(s,405))}},e=>{var a=a=>e(e.s=a);e.O(0,[441,684,358],()=>a(1826)),_N_E=e.O()}]);