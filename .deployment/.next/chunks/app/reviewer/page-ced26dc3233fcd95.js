(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[424],{283:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5155),i=s(5695),r=s(2115);let n=r.forwardRef(function(e,t){let{title:s,titleId:a,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},i),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});var l=s(8112);function d(){let e=(0,i.useRouter)(),[t,s]=(0,r.useState)([]),[d,c]=(0,r.useState)([]),[o,m]=(0,r.useState)(!0),[u,h]=(0,r.useState)("My");(0,r.useLayoutEffect)(()=>{let e=JSON.parse(localStorage.getItem("evaluations")||"[]"),t=JSON.parse(localStorage.getItem("evaluationReviewers")||"[]"),a=new URLSearchParams(window.location.search).get("participant"),i=a;!i&&t.length>0&&(i=t[0].id),i||(i="reviewer-1");let r=t.find(e=>e.id===i),n="My";r&&r.name&&(n=(n=r.name.trim().split(/\s+/)[0]).replace(/^[^\w]+/,"")||"My"),h(n);let l=t.filter(e=>e.id===i||"Anonymous Reviewer"===e.name||!a&&t.length>0).map(e=>e.evaluationId),d=e.filter(e=>l.includes(e.id.toString())||l.includes(e.id));if(0===d.length&&t.length>0&&(d=e.filter(e=>t.some(t=>t.evaluationId===e.id.toString()||t.evaluationId===e.id))),0===d.length&&e.length>0&&(d=e),0===d.length&&0===e.length){let e={id:0x24cb016ea,name:"Product Feature Comparison",status:"draft",totalItems:5,createdAt:new Date().toISOString(),criteria:[{id:1,name:"Usability",description:"How easy is the feature to use?"},{id:2,name:"Value",description:"Does the feature provide good value?"},{id:3,name:"Innovation",description:"How innovative is this feature?"},{id:4,name:"Reliability",description:"How reliable is the feature?"},{id:5,name:"Performance",description:"How well does the feature perform?"}]};d=[e],localStorage.setItem("evaluations",JSON.stringify([e]))}s(d.map(e=>({...e,status:"active"}))),m(!1),c(l.filter(e=>{let s=t.find(t=>t.id===i&&(t.evaluationId===e||t.evaluationId===Number(e)));return!!s&&("completed"===s.status||s.completed===s.total&&s.total>0)}).map(e=>Number(e)))},[]);let x=t=>{let s=new URLSearchParams(window.location.search).get("participant");s?e.push("/reviewer/task/".concat(t,"?participant=").concat(s)):e.push("/reviewer/task/".concat(t,"?from=reviewer"))},g=e=>{try{let t=new URLSearchParams(window.location.search).get("participant"),s=e.toString(),a="evaluation_".concat(s,"_responses");t&&(a="evaluation_".concat(s,"_reviewer_").concat(t,"_responses"));let i=localStorage.getItem(a);if(i)try{let e=JSON.parse(i);if("object"==typeof e&&null!==e)for(let t in e){let s=e[t];if("object"==typeof s&&null!==s&&Object.keys(s).length>0)return!0}}catch(e){return console.error("[hasEvaluationBeenStarted] Parse error:",e),i.length>2}return!1}catch(e){return console.error("[hasEvaluationBeenStarted] Error checking evaluation progress:",e),!1}},f=t.filter(e=>!d.includes(e.id)),v=t.filter(e=>d.includes(e.id));return o?(0,a.jsx)(l.A,{title:"".concat(u,"'s Evaluations"),children:(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-indigo-600 rounded-full animate-spin"})})}):(0,a.jsxs)(l.A,{title:"".concat(u,"'s Evaluations"),children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3 mb-8",children:[(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded-md flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-sm font-medium",children:t.length})})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Available"}),(0,a.jsxs)("dd",{className:"text-lg font-medium text-gray-900",children:[t.length," total"]})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded-md flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-sm font-medium",children:f.length})})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active"}),(0,a.jsxs)("dd",{className:"text-lg font-medium text-gray-900",children:[f.length," total"]})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded-md flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-sm font-medium",children:v.length})})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed"}),(0,a.jsxs)("dd",{className:"text-lg font-medium text-gray-900",children:[v.length," total"]})]})})]})})})]}),t.length>0?(0,a.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md mb-8",children:[(0,a.jsx)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"All Evaluations"})}),(0,a.jsx)("ul",{className:"divide-y divide-gray-200",children:t.map(e=>{let t=d.includes(e.id);return(0,a.jsx)("li",{children:(0,a.jsx)("div",{className:"px-4 py-4 sm:px-6 hover:bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.totalItems||0," Questions â€¢ Due: ",new Date(e.createdAt).toLocaleDateString()]})]})}),(0,a.jsxs)("div",{className:"flex items-center",children:[!t&&(0,a.jsx)("button",{onClick:()=>x(e.id),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white ".concat(g(e.id)?"bg-green-600 hover:bg-green-700":"bg-blue-500 hover:bg-blue-600"," focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),children:g(e.id)?"Resume":"Start Review"}),t&&(0,a.jsx)("button",{onClick:()=>x(e.id),className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Review"})]})]})})},e.id)})})]}):(0,a.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,a.jsxs)("div",{className:"px-4 py-8 text-center",children:[(0,a.jsx)(n,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No evaluations available"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Check back later for new evaluation tasks."})]})})]})}},5126:(e,t,s)=>{Promise.resolve().then(s.bind(s,283))},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},8112:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(5155),i=s(5695);function r(e){let{title:t,subtitle:s,children:r,actions:n}=e;return(0,i.useRouter)(),(0,a.jsxs)("div",{className:"min-h-[calc(100vh-4rem)] bg-gray-50 pt-9",children:[(0,a.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:t}),s&&(0,a.jsx)("p",{className:"text-sm text-gray-600",children:s})]}),n&&(0,a.jsx)("div",{className:"flex-shrink-0 ml-4",children:n})]})}),(0,a.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:r})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(5126)),_N_E=e.O()}]);